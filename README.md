# MotionCrew WordPress Theme

A custom WordPress theme built with modern tooling Webpack, Tailwind CSS, Alpine.js, and SASS.

## Prerequisites

Before you begin, ensure you have the following installed:

- **Node.js**: v22.x ([download here](https://nodejs.org/))
- **Yarn**: v 1.22.21 Package manager ([installation guide](https://yarnpkg.com/getting-started/install))
- **WordPress**: Local WordPress installation
- **PHP**: Version compatible with WordPress (7.4+)
- **MySQL/MariaDB**: Database server
- **Local Development Server**: Any pick what's best for you.
  - Laravel Valet (for macOS)
  - MAMP, XAMPP, Local by Flywheel, or Docker alternatives

## Project Setup

### 1. Verify Node.js Version

```bash
# Check Node version
node --version  # should show v22.x.x
```

### 2. WordPress Installation

1. Set up a local WordPress installation
2. Configure your database and `wp-config.php`
3. Note your local WordPress URL (e.g., `http://yoursitename.test`, `http://localhost:8000`, etc.)

### 3. Theme Installation

```bash
# Navigate to the theme directory
cd wp-content/themes/FDRY-motioncrew

# Install dependencies
yarn install
```

### 4. Configuration

**IMPORTANT**: You must configure the development URL to match your local WordPress installation.

#### Option 1: Update the default config (Quick setup)

Edit `src/build/config-default.json`:

```json
{
	"devUrl": "http://motioncrew.test", // ← Change this to your local WordPress URL
	"revisioning": true
}
```

**Replace** `http://motioncrew.test` with your actual local WordPress URL.

## How It Works

This theme uses a build process to compile assets:

- **`src/`** - Source files for development (SCSS, JavaScript)

  - Edit files here during development
  - Never deploy this folder to production

- **`dist/`** - Compiled/built files (CSS, JavaScript)
  - Automatically generated by the build process
  - This is what gets loaded by the theme
  - Deploy this folder to your live site

### Deployment to Production

When deploying to a live site:

1. Run `yarn build` to create optimized production files
2. Upload the entire theme folder via FTP
3. The live site will use the compiled files from the `dist/` folder
4. **Do not** run the build commands on the production server

## Development Workflow

### Available Commands

```bash
# Development with live reload
yarn start

# Development build
yarn dev

# Production build
yarn build
```

## WordPress Setup

### Required Plugins

The following plugins are used in this project:

- **Advanced Custom Fields PRO**: Custom field management
- **Contact Form 7**: Contact form functionality
- **Flamingo**: Contact form database storage
- **Members**: User role management
- **Popup Notifier for Contact Form 7**: Form submission notifications
- **Safe SVG**: SVG upload support
- **Site Profiles**: Custom site profile functionality

### Must-Use Plugins

- **custom-auth-redirects.php**: Custom authentication redirect logic

### Theme Activation

1. Log in to WordPress admin (`/wp-admin`)
2. Navigate to Appearance → Themes
3. Activate "FDRY-motioncrew" theme
4. Configure ACF field groups (JSON files in `acf-json/` will auto-sync)

## Project Structure

```
FDRY-motioncrew/
├── src/                    # Source files
│   ├── assets/
│   │   ├── scripts/       # JavaScript files
│   │   └── styles/        # SCSS files
│   └── build/             # Build configuration
│       ├── dev.config.js
│       ├── prod.config.js
│       └── config-default.json
├── dist/                   # Compiled assets (generated)
├── components/            # Reusable PHP components
├── template-parts/        # Template part files
├── svg-template/          # SVG templates
├── acf-json/             # ACF field group definitions
├── library/              # Custom PHP functions/classes
├── functions.php         # Theme functions
└── tailwind.config.js    # Tailwind CSS configuration
```

## Technologies Used

- **WordPress** - CMS platform
- **Webpack 5** - Asset bundling and build tool
- **Tailwind CSS 4** - Utility-first CSS framework
- **Alpine.js** - Lightweight JavaScript framework
- **SASS** - CSS preprocessor
- **BrowserSync** - Development server with live reload
- **Babel** - JavaScript compiler
- **PostCSS** - CSS transformations

## ACF (Advanced Custom Fields)

Custom field groups are stored as JSON files in `acf-json/` directory. These will automatically sync when:

- You activate the theme
- ACF detects changes in the JSON files

To export new field groups:

1. Create/edit field groups in WordPress admin
2. They will automatically be saved to `acf-json/`
3. Commit these JSON files to version control

## Troubleshooting

### BrowserSync not working

- Verify your `devUrl` matches your WordPress URL in `src/build/config-default.json` (or `config-local.json`)
- Ensure port 3000 is available
- Check that WordPress is running and accessible at the specified URL

### Assets not compiling

- Clear the dist folder: `yarn clean`
- Reinstall dependencies: `rm -rf node_modules && yarn install`
- Check for errors in the console output

### WordPress not loading theme

- Ensure all plugins are activated
- Check PHP error logs
- Verify file permissions

### Node version issues

- Ensure you have Node.js v22.x installed: `node --version`
- Reinstall Node.js v22 if the version doesn't match

## Additional Notes

- **Cache Busting**: Enabled by default via `revisioning: true` in config
- **Image Optimization**: First production build may take longer due to image processing
- **Team Development**: Use `config-local.json` for individual environment settings

## License

MIT

## Author

Andrea Musso
